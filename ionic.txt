npm install -g ionic cordova   如果安装不成功需要设置代理, 如果存在其他版本可能导致安装不成功


添加平台 
ionic cordova platform add browser (执行一次)
ionic cordova platform remove browser
ionic cordova build browser --prod （发布）

ionic cordova platform add android
ionic cordova build android --prod

ionic cordova platform add ios

ionic cordova platform remove android
ionic cordova platform add android@6.4.0

图标生成
ionic cordova resources ios -f (force强制)
ionic cordova resources android -f


编译
ionic cordova build android  --release
ionic cordova build android --prod --release
编译成功后会在项目下的platforms/android/build/outputs/apk里面生成生成默认名字为android-release-unsigned.apk的release版本apk文件


ionic生成apk使用build命令下载gradle-2.2.1-all.zip卡，解决方案：
1、先下载好gradle-2.2.1-all.zip包，放在myApp\platforms\android\gradle文件夹下
2、打开myApp\platforms\android\cordova\lib\builders\GradleBuilder.js文件
3、在DOS下载先设置CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL环境变量
set CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL=../gradle-3.3-all.zip
4. ionic cordova build android --prod
5. ionic cordova build browser --prod 
6. npm run prod


android 打包
ionic cordova build android  --release --prod
keytool -genkey -v -keystore da.keystore -alias da.keystore -keyalg RSA -validity 36500
jarsigner -verbose -keystore da.keystore -signedjar D:\tulinerp.apk D:\wamp\www\ionic3\platforms\android\build\outputs\apk\android-release-unsigned.apk tulinerp.keystore

jarsigner -verbose -keystore tulinerp.keystore -signedjar D:\tulinerp.apk D:\wamp\www\tab\platforms\android\app\build\outputs\apk\release\app-release-unsigned.apk tulinerp.keystore

keytool -genkey -v -keystore myapp.keystore -alias myapp.keystore -keyalg RSA -validity 36500  
-genkey     意味着执行的是生成数字证书操作  
-v          表示将生成证书的详细信息打印出来，显示在dos窗口中  
-keystore myapp.keystore    表示生成的数字证书的文件名为myapp.keystore（myapp是自己起的名称）  
-alias myapp.keystore       表示证书的别名为myapp.keystore，可以不和上面的名称一样  
-keyalg RSA     表示生成密钥文件所采用的算法为RSA  
-validity 36500     表示该数字证书的有效期为36500天  


jarsigner -verbose -keystore myapp.keystore -signedjar E:\myapp.apk E:\test\platforms\android\build\outputs\apk\android-armv7-release-unsigned.apk myapp.keystore  
  
-verbose    表示将签名过程中的详细信息打印出来，显示在控制台窗口中  
-keystore myapp.keystore    表示签名所使用的数字证书所在位置  
-signedjar E:\myapp.apk E:\test\platforms\android\build\outputs\apk\android-armv7-release-unsigned.apk  表示给E盘工程目录下的android-armv7-release-unsigned.apk文件签名，签名后的文件为E盘下的myapp.apk  
myapp.keystore      表示证书的别名，对应于生成数字证书时-alias参数后面的名称  


签名：
keytool -genkey -v -keystore app.jks -keyalg RSA -keysize 2048 -validity 100000 -alias app.jks
密码：pass2debug
jarsigner -verbose -keystore tulinerp.jks -signedjar D:/wamp/www/TSP-Repair/platforms/android/app/src/main/assets/www/eworker.apk D:/wamp/www/TSP-Repair/platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk tulinerp.jks -storepass pass2debug -keypass pass2debug


ionic cordova plugin add cordova-hot-code-push-plugin

cordova-hcp build

ionic cordova build android -- chcp-dev

cordova build --release

cordova prepare -- chcp-production  && cordova compile --release


图标生成
ionic cordova resources ios -f (force强制)
ionic cordova resources android -f

ionic3 热更新：

1. 添加平台：
ionic cordova platform add android@6.4.0 
（更高的android版本，目前插件可能不支持，所以使用6.4.0）

2. 添加cordova插件
ionic cordova plugin add cordova-hot-code-push-plugin
npm install -g cordova-hot-code-push-cli
在根目录config.xml中添加
<chcp>
    <config-file url="http://da.tulindev.com:81/hotcode/ionic/chcp.json" />
</chcp>
http://hotcode.tulindev.com:85/tulin-erp/android/chcp.json

3. 在 www 目录的上级目录创建文件 cordova-hcp.json 写入：
{
    "autogenerated": true,
    "name": "ionic",
    "content_url": "http://da.tulindev.com:81/hotcode/ionic",
    "ios_identifier":"https://itues.apple.com/cn/***",
    "update": "now"
}
这里要注意：不同的platform创建的文件位置也不同。
比如android要在 D:\wamp\www\ionic\platforms\android\assets 的目录下创建

4. 在www目录中生成 chcp.json  chcp.manifest
在www目录的上级目录运行命令：cordova-hcp build 即可生成
或者在指定目录中生成 cordova-hcp build ./platforms/android/assets/www

5. 将www下的内容拷贝到服务器的指定目录中。并且这些文件必须可以通过web访问到
对应 "content_url": "http://da.tulindev.com:81/hotcode/ionic"

6. 打包签名apk，并且安装到手机
ionic cordova build android --prod --release

7.测试：
修改项目文件后，执行第四，第五步后。在手机中重启app即可。


chrome://inspect/#devices


videogular2
http://videogular.github.io/videogular2/docs/getting-started/
http://www.videogular.com/alpha/#/audio-player
https://videogular.github.io/videogular2/
https://videogular.github.io/videogular2-showroom/#/
https://videogular.github.io/videogular2/docs/getting-started/
npm install videogular2 --save
npm install @types/core-js --save-dev



cordova 插件:

极光推送：
ionic cordova plugin add jpush-phonegap-plugin --variable APP_KEY=2f855a5c572eb908dcb24f89 --variable CHANNEL=your_channel
npm install --save @jiguang-ionic/jpush
参考资料：
https://github.com/jpush/jpush-phonegap-plugin/blob/master/doc/iOS_API.md#%E8%AE%BE%E7%BD%AEbadge

https://www.jiguang.cn/
lilarabe@163.com
willi555777

ios 配置参考
https://docs.jiguang.cn/jpush/client/iOS/ios_cer_guide/

Name:tulinerp
Key ID:NQR27UK86A
Services
Apple Push Notifications service (APNs)

设备
ionic cordova plugin add cordova-plugin-device
npm install --save @ionic-native/device

锁屏
ionic cordova plugin add cordova-plugin-screen-orientation
npm install --save @ionic-native/screen-orientation

热更新
ionic cordova plugin add cordova-hot-code-push-plugin
npm install --save @ionic-native/hot-code-push
如果 热更新 在重启app后失效，请在 package.json 中 
cordova-plugin-ionic-webview 版本更改
"cordova-plugin-ionic-webview": "^1.2.1",
在重新 npm install

文件传输
ionic cordova plugin add cordova-plugin-file-transfer
npm install --save @ionic-native/file-transfer

文件打开
ionic cordova plugin add cordova-plugin-file-opener2
cordova plugin add https://github.com/pwlin/cordova-plugin-file-opener2.git --save
cordova plugin remove cordova-plugin-file-opener2 --save
npm install --save @ionic-native/file-opener
npm install --save @ionic-native/file-opener@4
1.安装 build 报错 看这里
https://forum.ionicframework.com/t/file-opener-build-error-android/124503
Replace 
<framework src="com.android.support:support-v4:+" /> 
to 
<framework src="com.android.support:support-v4:24.1.1+" /> 
line no 34 in plugin.xml 
of 
cordova.plugins.fileOpener2. 
and remove android platform ionic cordova platform rm android 
and then add again ionic cordova platform add android. 
now it should work

2.exposed beyond app through Intent.getData()的最优解决办法，
由于github的代码作者没有及时更新代码至npm，其实最新版的插件已经解决了这个问题，
用命令cordova plugin add https://github.com/pwlin/cordova-plugin-file-opener2.git添加插件，
不要用ionic官网和github上的ionic cordova plugin add cordova-plugin-file-opener2的命令，
添加完插件后打包 
或者本地安装
cordova plugin add D:\cordova\cordova-plugin-file-opener2


文件
ionic cordova plugin add cordova-plugin-file
npm install --save @ionic-native/file

启用浏览器
ionic cordova plugin add cordova-plugin-inappbrowser
npm install --save @ionic-native/in-app-browser

媒体剪辑
ionic cordova plugin add cordova-plugin-media-capture --variable CAMERA_USAGE_DESCRIPTION="录制视频" --variable MICROPHONE_USAGE_DESCRIPTION="录制音频" --variable PHOTOLIBRARY_USAGE_DESCRIPTION="选择音频"
npm install --save @ionic-native/media-capture
NSCameraUsageDescription 描述了应用程序访问用户相机的原因。
NSMicrophoneUsageDescription 描述了应用程序访问用户麦克风的原因。
NSPhotoLibraryUsageDescriptionentry 描述了应用程序访问用户照片库的原因。
<edit-config target="NSCameraUsageDescription" file="*-Info.plist" mode="merge">
    <string>录制视频</string>
</edit-config>
<edit-config target="NSMicrophoneUsageDescription" file="*-Info.plist" mode="merge">
    <string>录制音频</string>
</edit-config>
<edit-config target="NSPhotoLibraryUsageDescription" file="*-Info.plist" mode="merge">
    <string>选择视频</string>
</edit-config>


视频编辑
ionic cordova plugin add cordova-plugin-video-editor
npm install --save @ionic-native/video-editor

主题化浏览器
ionic cordova plugin add cordova-plugin-themeablebrowser
npm install --save @ionic-native/themeable-browser

验证是否安装其他的app
ionic cordova plugin add cordova-plugin-appavailability
npm install --save @ionic-native/app-availability

相册
ionic cordova plugin add cordova-plugin-photo-library
npm install @ionic-native/photo-library

ios build 报错
修改
plugins\cordova-plugin-photo-library\src\ios\PhotoLibraryService.swift
672 行
let dataPos = match.range(at: 0).length
let dataPos = match.rangeAt(_: 0).length

打开app
com.lampa.startapp
ionic cordova plugin add com.lampa.startapp
ionic cordova plugin rm com.lampa.startapp
ionic cordova plugin add https://github.com/lampaa/com.lampa.startapp.git
ionic cordova plugin rm org.apache.cordova.startapp

微信支付，分享，打开小程序等等
npm install wechat-chenyu --save

ionic cordova plugin add cordova-plugin-wechat-v3 --variable wechatappid=wxe0bdf1ce68691713
ionic cordova plugin rm cordova-plugin-wechat-v3

ionic cordova plugin add cordova-plugin-wechatv2 --variable wechatappid=wxe0bdf1ce68691713
ionic cordova plugin rm cordova-plugin-wechatv2

keytool -exportcert -alias app.jks -keypass pass2debug -keystore app.jks -storepass pass2debug | md5sum

6e1523dfb353b2453f2f3d7d09251c6a


ionic3 iframe ios上不加载
config.xml中添加
<access origin="*" />
<allow-navigation href="*" />
<allow-intent href="*" />

Xcode 10 打包报错：
ionic cordova build ios 
改为
ionic cordova build ios -- --buildFlag="-UseModernBuildSystem=0"

或者
在根目录下创建 build.json
内容：
{
  "ios": {
    "debug": {
      "buildFlag": [
        "-UseModernBuildSystem=0"
      ]
    },
    "release": {
      "buildFlag": [
        "-UseModernBuildSystem=0"
      ]
    }
  }
}

微信插件在 Xcode10 运行libstdc++报错处理方案：
修改 plugins < cordova-plugin-wechat-v3(这里也可能是其他的插件目录) < plugin.xml
大约在 79行
<framework src="libstdc++.6.tbd" />
改为
<framework src="libc++.tbd" />

ionic cordova platform rm ios
ionic cordova platform add ios

Cannot find module '../cordova/platform_metadata'

ionic cordova platform remove ios
ionic cordova plugin rm cordova-plugin-add-swift-support
ionic cordova plugin add cordova-plugin-add-swift-support
ionic cordova platform add ios

git:
git branch 查看分支
git branch -a 查看远程分支
git branch test 创建分支
git checkout test 切换分支到test
git branch -d xxxxx 删除本地分支
git merge 合并某分支到当前分支
git checkout tulinerp src 将tulinerp分支的src目录合并到当前src目录
git fetch --all


https://lanhuapp.com/web/#/item/project/board?pid=5bc1d838-902f-479c-b409-6c51bbcb4c32



face-api.js:
npm i face-api.js
npm i face-api.js canvas @tensorflow/tfjs-node


二维码：
ionic cordova plugin add cordova-plugin-qrscanner
npm install --save @ionic-native/qr-scanner@4
ionic cordova plugin add cordova-plugin-add-swift-support
config.xml添加
<preference name="UseSwiftLanguageVersion" value="5" />

定位：
ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="获取定位"
npm install --save @ionic-native/geolocation@4

service worker:
npm install web-push -g
npm install web-push --save
web-push generate-vapid-keys


<access origin="cdvfile://*" />

ionic cordova plugin add cordova-plugin-media-capture
npm install --save @ionic-native/media-capture@4



npm install gulp-git --save-dev
npm install child-process-ext --save-dev
npm install --save-dev gulp-zip


ionic serve --address 172.16.11.175

maven {url "https://maven.google.com"}
jcenter()

google()
jcenter()
maven {url 'http://maven.aliyun.com/nexus/content/groups/public/'}


https://edemo.quanzhuyun.com/uploadfiles/HotCode/cn_tulin_erp/android/app.apk